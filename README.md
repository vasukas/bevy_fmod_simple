# Overview

Simple FMOD (audio engine) plugin for bevy.

This crate is **not free to use** as it requires FMOD license.

You can run interactive 3D demo with `cargo run --example demo`.

## Dynamic libraries

For running without cargo you need dynamic libraries (.dll, .so) from `fmod/lib`.

On Windows libraries can be just copied to same directory as executable.

On Linux in addition to that add following `build.rs` in your crate's root:
```
fn main() {
    // search dynamic libraries in same directory as executable
    println!("cargo:rustc-link-arg=-Wl,-rpath=$ORIGIN");
}
```

# License

Except where noted below, all code in this repository is dual-licensed under either:

* MIT License (LICENSE-MIT or http://opensource.org/licenses/MIT)
* Apache License, Version 2.0 (LICENSE-APACHE or http://www.apache.org/licenses/LICENSE-2.0)

at your option.

Contents of `fmod` directory are **not** part of this crate and fall under FMOD license, see: https://www.fmod.com/licensing.

Essentialy, FMOD is free for non-commercial use and for indies with small revenue and budget.

If free license is used, game using this crate must include attribution to FMOD, see: https://www.fmod.com/attribution.

# C++ bridge

FMOD is used through C++ wrapper linked as static library.
Rust <-> C++ bindings are generated by `cxx` crate.

Tested with GCC 10 and MSVC 2019, but should work with older compilers with C++17 support.

# Why FMOD

Some advantages of FMOD over pure Rust solutions (known to me):

* 3D spatial sound - including occlusion by 3D polygons, reverb and Doppler effect;
* virtual channels - if there is too many sounds, some are automatically muted based on priority;
* apparently has a lot of DSP effects, which *will* be used in the future;
* it is popular among sound designers? though Studio functionality is not used in this crate, only Core.
